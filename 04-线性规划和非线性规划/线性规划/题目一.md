### 第一道题：线性规划典型应用——工厂生产计划优化问题


#### 一、题目描述
某电子厂主要生产两种型号的智能手机：A型号和B型号。已知生产相关的基础数据如下：
1. **资源消耗**：生产1部A型号手机需要消耗2单位芯片、3单位电池和4小时人工；生产1部B型号手机需要消耗3单位芯片、2单位电池和3小时人工。
2. **资源总量**：工厂每周可获得的资源有限，其中芯片最多120单位，电池最多100单位，人工总时长最多140小时。
3. **利润与附加约束**：A型号手机每部利润为500元，B型号手机每部利润为400元。为保证市场份额，每周至少生产10部A型号手机；且B型号手机的产量不能超过A型号的1.5倍（因B型号为高端机型，市场需求有限）。

**问题**：该工厂每周应生产A、B型号手机各多少部，才能在满足所有资源和附加约束的前提下，获得最大周利润？


#### 二、解题思路
##### 1. 明确问题类型
目标是“最大化利润”，且利润、资源消耗、约束条件均为“线性关系”（如“总芯片消耗=2×A产量 + 3×B产量”），因此属于**线性规划问题**。

##### 2. 建模步骤
- **确定决策变量**：设每周生产A型号手机\( x \)部，B型号手机\( y \)部（\( x, y \geq 0 \)，且为非负整数，但因产量较大时可先按实数求解，再取整验证）。
- **构建目标函数**：总利润\( z = 500x + 400y \)（单位：元），需最大化\( z \)。
- **列出约束条件**：
  - 芯片约束：\( 2x + 3y \leq 120 \)（总消耗≤120单位）；
  - 电池约束：\( 3x + 2y \leq 100 \)（总消耗≤100单位）；
  - 人工约束：\( 4x + 3y \leq 140 \)（总时长≤140小时）；
  - 附加约束1：\( x \geq 10 \)（至少生产10部A型号）；
  - 附加约束2：\( y \leq 1.5x \)（B产量≤A产量的1.5倍）；
  - 非负约束：\( x \geq 0, y \geq 0 \)。

##### 3. 求解逻辑
线性规划的最优解在可行域的顶点，可通过以下步骤求解：
1. 确定可行域：由所有约束条件围成的多边形区域；
2. 找到顶点坐标：联立约束条件的方程（如芯片约束与电池约束的交点、电池约束与人工约束的交点等）；
3. 计算各顶点的目标函数值，最大者即为最优解。


#### 三、代码实现（Python）
使用`scipy.optimize.linprog`工具求解（注意：linprog默认求最小值，需将最大化问题转为“最小化负利润”）。

```python
import numpy as np
from scipy.optimize import linprog

# 1. 定义目标函数系数（因求max z=500x+400y，等价于min -z = -500x -400y）
c = [-500, -400]  # 对应x和y的系数

# 2. 定义不等式约束（Ax <= b）
# 约束1：2x + 3y <= 120
# 约束2：3x + 2y <= 100
# 约束3：4x + 3y <= 140
# 约束5：y - 1.5x <= 0 （即y <= 1.5x）
A = [
    [2, 3],    # 约束1
    [3, 2],    # 约束2
    [4, 3],    # 约束3
    [-1, 0],   # 约束4：-x <= -10（等价于x >=10）
    [-1.5, 1]  # 约束5：-1.5x + y <=0（等价于y <=1.5x）
]
b = [120, 100, 140, -10, 0]  # 对应约束的右侧值

# 3. 定义变量边界（x >=0, y >=0）
x_bounds = (0, None)
y_bounds = (0, None)
bounds = [x_bounds, y_bounds]

# 4. 求解线性规划
result = linprog(c, A_ub=A, b_ub=b, bounds=bounds, method='highs')

# 5. 输出结果
print("求解状态：", "成功" if result.success else "失败")
print(f"最优产量：A型号手机 {round(result.x[0], 2)} 部，B型号手机 {round(result.x[1], 2)} 部")
print(f"最大周利润：{round(-result.fun, 2)} 元")  # 还原为正利润
```

#### 四、运行结果与解释
```

求解状态： 成功
最优产量：A型号手机 16.47 部，B型号手机 24.71 部
最大周利润：18117.65 元
```
显然，除非单位为万部，手机产量不能为小数
以下是整数规划的结果
[整数规划](./整数规划.py)
```
求解状态： 成功
最优产量：A型号手机 17.0 部，B型号手机 24.0 部
最大周利润：18100.0 元
```

### 后续题目预告
下一道题将围绕“非线性规划”的典型应用——投资组合优化问题（目标函数为二次函数，属于非线性规划），包含题目描述、解题思路和代码实现。如果需要继续，请告知。